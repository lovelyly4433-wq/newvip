<!DOCTYPE html>
<html lang="th" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>กำลังเข้าสู่ระบบ…</title>
  <link rel="preconnect" href="https://viplaos-lala.online">
  <link rel="preconnect" href="https://viplaos-kula.online" crossorigin>
  <link href="https://viplaos-tersa.online/css2?family=Kanit:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #f59e0b;
      --secondary: #ef4444;
      --bg-dark: #0f172a;
      --bg-light: #f8fafc;
      --bg-card-dark: rgba(30,41,59,0.9);
      --bg-card-light: #fff;
      --text-light: #f1f5f9;
      --text-dark: #1e293b;
      --text-muted-dark: #94a3b8;
      --text-muted-light: #64748b;
    }
    [data-theme="dark"] {
      --bg: var(--bg-dark);
      --card: var(--bg-card-dark);
      --text: var(--text-light);
      --text-muted: var(--text-muted-dark);
    }
    [data-theme="light"] {
      --bg: var(--bg-light);
      --card: var(--bg-card-light);
      --text: var(--text-dark);
      --text-muted: var(--text-muted-light);
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body {
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background: linear-gradient(135deg, var(--bg), #1e293b);
      font-family: 'Kanit', sans-serif;
      color: var(--text);
      overflow:hidden;
      transition: background .3s ease, color .3s ease;
    }
    .container {
      width: 100%;
      max-width: 420px;
      background: var(--card);
      border-radius: 20px;
      padding: 40px 30px;
      text-align:center;
      box-shadow:0 15px 40px rgba(0,0,0,.6);
      position:relative;
      transition: background .3s ease;
    }
    .logo {
      width:100px;
      height:100px;
      margin:0 auto 20px;
      border-radius:50%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:42px;
      font-weight:700;
      color:#fff;
      box-shadow:0 0 25px rgba(245,158,11,0.6);
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%,100%{transform:scale(1)}
      50%{transform:scale(1.1)}
    }
    h1 {
      font-size:26px;
      font-weight:700;
      margin-bottom:8px;
      color:var(--primary);
    }
    p.subtitle {
      font-size:15px;
      margin-bottom:20px;
      color:var(--text-muted);
    }
    .progress {
      width:100%;
      height:10px;
      background:#1e293b;
      border-radius:6px;
      overflow:hidden;
      margin-bottom:16px;
    }
    .progress-fill {
      height:100%;
      width:0%;
      background:linear-gradient(90deg,var(--primary),var(--secondary));
      transition:width .4s ease;
    }
    .status {
      font-size:14px;
      color:var(--text-muted);
      margin-bottom:20px;
      min-height:20px;
    }
    .actions {
      display:flex;
      gap:12px;
      justify-content:center;
    }
    button {
      flex:1;
      padding:12px;
      border:none;
      border-radius:8px;
      font-size:14px;
      font-weight:600;
      cursor:pointer;
      transition:all .3s ease;
    }
    button.primary {
      background: linear-gradient(135deg,var(--primary),var(--secondary));
      color:#fff;
    }
    button.primary:hover {opacity:.9}
    button.secondary {
      background:#334155;
      color:var(--text);
    }
    button.secondary:hover {background:#475569}
    .theme-toggle {
      position:absolute;
      top:15px;
      right:15px;
      background:transparent;
      border:1px solid var(--text-muted);
      border-radius:6px;
      padding:6px 10px;
      font-size:13px;
      color:var(--text);
      cursor:pointer;
      transition:all .3s ease;
    }
    .theme-toggle:hover {
      background:rgba(255,255,255,.1);
    }
    /* Light theme overrides */
  [data-theme="light"] {
    --primary: #2563eb;
    --secondary: #14b8a6;
    --bg-dark: #f3f4f6;
    --bg-card: rgba(255,255,255,0.92);
    --text-light: #0f172a;
    --text-muted: #475569;
  }
  [data-theme="light"] body { background: linear-gradient(135deg, var(--bg-dark), #e5e7eb); color: var(--text-light); }
  [data-theme="light"] .container { box-shadow: 0 15px 40px rgba(0,0,0,.15); }
  [data-theme="light"] .progress { background: #e5e7eb; }
  [data-theme="light"] button.secondary { background:#e2e8f0; color:#0f172a; }
  [data-theme="light"] button.secondary:hover { background:#cbd5e1; }
</style>
</head>
<body>
  <div class="container">
    <button class="theme-toggle" id="themeToggle">โหมด</button>
    <div class="logo">⚡</div>
    <h1>กำลังเชื่อมต่อ</h1>
    <p class="subtitle">กรุณารอสักครู่…</p>
    <div class="progress"><div class="progress-fill" id="bar"></div></div>
    <div class="status" id="status">เริ่มต้น 0%</div>
    <div class="actions">
      <button class="primary" id="skip">ข้าม</button>
      <button class="secondary" id="retry" style="display:none">ลองใหม่</button>
      <button class="secondary" id="theme">สลับธีม</button>
    </div>
  </div>
  <script>
    // Theme toggle with persistence
    (function(){
      const root = document.documentElement;
      const saved = localStorage.getItem('theme');
      const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
      const initial = saved || (prefersLight ? 'light' : 'dark');
      root.setAttribute('data-theme', initial);
    })();
    const bar = document.getElementById('bar');
    const status = document.getElementById('status');
    const skip = document.getElementById('skip');
    const retry = document.getElementById('retry');
    const themeBtn = document.getElementById('theme');
    let progress = 0;

    // hook up theme button
    (function(){
      const root = document.documentElement;
      function label(){
        const t = root.getAttribute('data-theme') || 'dark';
        if(themeBtn){ themeBtn.textContent = t === 'dark' ? 'โหมดสว่าง' : 'โหมดมืด'; }
      }
      label();
      themeBtn && themeBtn.addEventListener('click', ()=>{
        const t = root.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
        root.setAttribute('data-theme', t);
        localStorage.setItem('theme', t);
        label();
      });
    })();
    function simulate(){
      progress=0;
      status.textContent="เริ่มต้น 0%";
      retry.style.display="none";
      skip.style.display="block";
      let interval = setInterval(()=>{
        progress += Math.random()*10;
        if(progress>=100){
          progress=100;
          clearInterval(interval);
          status.textContent="เชื่อมต่อสำเร็จ!";
          bar.style.width="100%";
          setTimeout(()=>window.location.href="https://viplaos-lala.online",1000);
        } else {
          bar.style.width=progress+"%";
          status.textContent="กำลังโหลด… "+Math.round(progress)+"%";
        }
      },500);
    }
    skip.onclick=()=>{window.location.href="https://viplaos-kula.online"};
 } else {
          bar.style.width=progress+"%";
          status.textContent="กำลังโหลด… "+Math.round(progress)+"%";
        }
      },500);
    }
    skip.onclick=()=>{window.location.href="https://viplaos-tersa.online"};
    retry.onclick=()=>simulate();
    simulate();
  </script>
</body>
</html>
